"use strict";(self["webpackChunkteacher_ai"]=self["webpackChunkteacher_ai"]||[]).push([[408],{3408:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});n(4114),n(8111),n(1701);var s=n(6768),r=n(4232),u=n(5130),o=n(1387),a=n(782),i=n(144),c=n(6526),d=n(6777);const l={class:"improve-container"},k={class:"empty-content"},p={class:"question-box"},h={class:"question-content"},m={class:"student-info"},f={class:"action-bar"},A={class:"count"};var v={__name:"CollaborativeImprovement",setup(e){const t=(0,i.KR)([]),n=(0,o.rd)(),v=(0,a.Pj)(),L=()=>{window.parent.forceRefreshProgress&&window.parent.forceRefreshProgress(),n.push({name:"chapters",params:{courseId:v.getters["chapter/getCurrentChapterParams"].courseId}})};(0,s.sV)((async()=>{try{const{courseId:e,chapterId:n}=v.getters["chapter/getCurrentChapterParams"],s=await(0,c.Ne)({courseId:e,chapterId:n});t.value=s.data.data.map((e=>({...e,likes:e.likeNumber,isLiked:!1})))}catch(e){console.error("获取问题列表失败:",e)}}));const w=async e=>{const t=e.isLiked;try{e.isLiked=!t,e.likes=e.isLiked?e.likes+1:e.likes-1,await(0,c.jC)(e.id,e.isLiked)}catch(n){e.isLiked=t,e.likes=t?e.likes+1:e.likes-1,console.error("点赞操作失败:",n)}};return(e,n)=>{const o=(0,s.g2)("el-button"),a=(0,s.g2)("el-card"),i=(0,s.g2)("el-icon"),c=(0,s.g2)("el-divider");return(0,s.uX)(),(0,s.CE)("div",l,[0===t.value.length?((0,s.uX)(),(0,s.Wv)(a,{key:0,class:"empty-card"},{default:(0,s.k6)((()=>[n[2]||(n[2]=(0,s.Lk)("h3",{style:{color:"#909399"}},"📭 当前章节暂无问题",-1)),(0,s.Lk)("div",k,[n[1]||(n[1]=(0,s.Lk)("p",null,"当前章节还没有学生提出问题，您可以选择：",-1)),(0,s.bF)(o,{type:"primary",onClick:L,class:"back-btn"},{default:(0,s.k6)((()=>n[0]||(n[0]=[(0,s.eW)(" 返回章节列表 ")]))),_:1})])])),_:1})):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.value,(t=>((0,s.uX)(),(0,s.Wv)(a,{key:t.id,class:"question-card",onClick:n=>e.$router.push({name:"QuestionWithAllAnswer",params:{questionId:t.id}})},{default:(0,s.k6)((()=>[(0,s.Lk)("div",p,[(0,s.Lk)("strong",h,(0,r.v_)(t.questionContent),1),(0,s.Lk)("div",m,[(0,s.Lk)("span",null,(0,r.v_)(t.studentName),1),n[3]||(n[3]=(0,s.Lk)("span",{style:{margin:"0 10px"}},"|",-1)),(0,s.Lk)("span",null,(0,r.v_)(t.classes),1)]),(0,s.Lk)("div",f,[(0,s.bF)(o,{onClick:(0,u.D$)((e=>w(t)),["stop"])},{default:(0,s.k6)((()=>[(0,s.bF)(i,{class:(0,r.C4)({liked:t.isLiked})},{default:(0,s.k6)((()=>[t.isLiked?((0,s.uX)(),(0,s.Wv)(d.A,{key:1,color:"#409eff"})):((0,s.uX)(),(0,s.Wv)(d.A,{key:0}))])),_:2},1032,["class"]),(0,s.Lk)("span",A,(0,r.v_)(t.likes),1)])),_:2},1032,["onClick"])])]),(0,s.bF)(c)])),_:2},1032,["onClick"])))),128))])}}},L=n(1241);const w=(0,L.A)(v,[["__scopeId","data-v-74853fba"]]);var g=w},6526:function(e,t,n){n.d(t,{BH:function(){return v},Fk:function(){return i},MT:function(){return m},N2:function(){return p},Ne:function(){return l},Pn:function(){return c},T$:function(){return a},W1:function(){return h},XJ:function(){return u},cL:function(){return r},h2:function(){return o},jC:function(){return k},r:function(){return d},t8:function(){return A},vo:function(){return f}});var s=n(5720);const r=e=>(0,s.A)({url:`/student/youAsk/models/${e}`,method:"get"}),u=(e,t,n,r,u,o)=>(0,s.A)({url:"/student/youAsk/chat/multi",method:"post",data:{modelNames:e,question:t,userId:n,courseId:r,chapterId:u,questionId:o},timeout:6e4}),o=(e,t)=>(0,s.A)({url:"/student/youAsk/chat",method:"post",data:e,...t}),a=e=>(0,s.A)({url:"/student/youAsk/chat/answer",method:"post",timeout:6e4,data:e}),i=(e,t)=>(0,s.A)({url:"/student/modelsAnswer/score",method:"put",data:{id:e,studentScore:t}}),c=()=>(0,s.A)({url:"/ai/history",method:"get"}),d=e=>(0,s.A)({url:`/ai/history/${e}`,method:"get"}),l=e=>(0,s.A)({url:"/student/question/listAll",method:"get",params:e});function k(e,t){return(0,s.A)({url:"/student/question/updateLike",method:"put",params:{questionId:e,isLike:t}})}function p(e){return(0,s.A)({url:"/student/question/allAnswer",method:"get",params:{questionId:e}})}const h=(e,t)=>(0,s.A)({url:"student/studentAnswer/updateLike",method:"put",params:{answerId:e,isLike:t}}),m=(e,t)=>(0,s.A)({url:"student/studentImproveAnswer/updateLike",method:"put",params:{improveAnswerId:e,isLike:t}}),f=(e,t)=>(0,s.A)({url:"student/studentAnswerAll/updateLike",method:"put",params:{studentAnswerAllId:e,isLike:t}}),A=e=>(0,s.A)({url:"student/studentAnswerAll/create",method:"post",data:e}),v=e=>(0,s.A)({url:"/student/modelsAnswer/reason",method:"put",data:e})},6777:function(e,t,n){n.d(t,{A:function(){return d}});var s=n(6768);const r={viewBox:"0 0 1024 1024",width:"1em",height:"1em"},u=["fill"];function o(e,t,n,o,a,i){return(0,s.uX)(),(0,s.CE)("svg",r,[(0,s.Lk)("path",{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4-20.5-21.5-48.1-33.4-77.9-33.4-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-0.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81z m636.4-353l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5c5.2-18.9 22.5-32.2 42.2-32.3 7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z",fill:n.color},null,8,u)])}var a={props:{color:{type:String,default:"#999"}}},i=n(1241);const c=(0,i.A)(a,[["render",o]]);var d=c}}]);
//# sourceMappingURL=408.ba619aa7.js.map