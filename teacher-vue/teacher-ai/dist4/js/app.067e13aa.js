(function(){"use strict";var e={2636:function(e,t,a){a.d(t,{Bs:function(){return n},_t:function(){return o},bN:function(){return l},mU:function(){return u},xM:function(){return s}});var r=a(5720);const n=e=>(0,r.A)({url:"/student/student/login",method:"post",data:e}),o=e=>(0,r.A)({url:"/teacher/teacher/login",method:"post",data:e}),s=e=>(0,r.A)({url:"/student/student/register",method:"post",data:e}),u=e=>(0,r.A)({url:"/teacher/teacher/register",method:"post",data:e});function l(e){return(0,r.A)({url:"admin/admin/login",method:"post",data:e})}},4415:function(e,t,a){var r=a(5130),n=a(8891),o=(a(4188),a(6768)),s=a(4232);const u={class:"header-content"},l={class:"selection-status"},i={key:0},c={key:1},d={key:2},m={class:"user-info"};function p(e,t,a,r,n,p){const h=(0,o.g2)("router-view"),g=(0,o.g2)("el-header"),f=(0,o.g2)("HomeFilled"),I=(0,o.g2)("el-icon"),C=(0,o.g2)("el-menu-item"),k=(0,o.g2)("Reading"),v=(0,o.g2)("Notebook"),b=(0,o.g2)("el-divider"),A=(0,o.g2)("ChatLineRound"),S=(0,o.g2)("QuestionFilled"),y=(0,o.g2)("ChatRound"),F=(0,o.g2)("Opportunity"),w=(0,o.g2)("el-submenu"),q=(0,o.g2)("List"),Q=(0,o.g2)("Cpu"),B=(0,o.g2)("User"),E=(0,o.g2)("Setting"),K=(0,o.g2)("Document"),L=(0,o.g2)("el-menu"),P=(0,o.g2)("el-aside"),N=(0,o.g2)("el-main"),_=(0,o.g2)("el-container");return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.$route.meta.isFullPage?((0,o.uX)(),(0,o.Wv)(h,{key:0},{default:(0,o.k6)((({Component:e,route:t})=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e),{key:t.path,class:(0,s.C4)({"full-page":t.meta.isFullPage})},null,8,["class"]))])),_:1})):(0,o.Q3)("",!0),e.$route.meta.isFullPage?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(_,{key:1,class:"main-container"},{default:(0,o.k6)((()=>[(0,o.bF)(g,{class:"main-header"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",u,[t[1]||(t[1]=(0,o.Lk)("h1",{class:"system-title"}," 智慧问答系统 ",-1)),(0,o.Lk)("div",l,[p.isStudent&&e.$root.globalState.currentCourseId?((0,o.uX)(),(0,o.CE)("span",i,[(0,o.eW)(" 📖 当前课程："+(0,s.v_)(p.currentCourseName)+" ",1),p.currentChapterOrder>0?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.eW)(" 第"+(0,s.v_)(p.currentChapterOrder)+"章 ",1)],64)):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,s.v_)(p.currentChapterName)+" 👤 "+(0,s.v_)(p.userName),1)])):p.isTeacher||p.isAdmin?((0,o.uX)(),(0,o.CE)("span",c," 👤 "+(0,s.v_)(p.userName),1)):((0,o.uX)(),(0,o.CE)("span",d," 🚩 请选择课程 👤 "+(0,s.v_)(p.userName),1)),(0,o.Lk)("span",m,[(0,o.Lk)("a",{href:"javascript:;",class:"logout-link",onClick:t[0]||(t[0]=(...e)=>p.handleLogout&&p.handleLogout(...e))}," 退出登录 ")])])])])),_:1}),(0,o.bF)(_,null,{default:(0,o.k6)((()=>[(0,o.bF)(P,{width:"220px",class:"side-menu"},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.Wv)(L,{"default-active":p.activeMenu,key:n.menuKey,class:"el-menu-vertical","active-text-color":"#409eff","background-color":"#fafafa",onSelect:p.handleMenuSelect},{default:(0,o.k6)((()=>[p.isStudent||p.isTeacher?((0,o.uX)(),(0,o.Wv)(C,{key:0,index:"1"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(f)])),_:1}),t[2]||(t[2]=(0,o.Lk)("span",null,"首页",-1))])),_:1})):(0,o.Q3)("",!0),p.isStudent?((0,o.uX)(),(0,o.Wv)(C,{key:1,index:"2"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(k)])),_:1}),t[3]||(t[3]=(0,o.Lk)("span",null,"课程选择",-1))])),_:1})):(0,o.Q3)("",!0),p.isTeacher?((0,o.uX)(),(0,o.Wv)(C,{key:2,index:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(v)])),_:1}),t[4]||(t[4]=(0,o.Lk)("span",null,"课程管理",-1))])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(b,{class:"menu-divider"}),p.isStudent?((0,o.uX)(),(0,o.Wv)(w,{key:3,index:"3"},{title:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(A)])),_:1}),t[5]||(t[5]=(0,o.Lk)("span",null,"问答管理",-1))])),default:(0,o.k6)((()=>[(0,o.bF)(C,{index:"3-1"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(S)])),_:1}),t[6]||(t[6]=(0,o.Lk)("span",null,"你问你答",-1))])),_:1}),(0,o.bF)(C,{index:"3-2"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(y)])),_:1}),t[7]||(t[7]=(0,o.Lk)("span",null,"他问你答",-1))])),_:1}),p.isStudent?((0,o.uX)(),(0,o.Wv)(C,{key:0,index:"5"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(F)])),_:1}),t[8]||(t[8]=(0,o.Lk)("span",null,"协同改进",-1))])),_:1})):(0,o.Q3)("",!0)])),_:1})):(0,o.Q3)("",!0),p.isTeacher?((0,o.uX)(),(0,o.Wv)(C,{key:4,index:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(q)])),_:1}),t[9]||(t[9]=(0,o.Lk)("span",null,"问答归档",-1))])),_:1})):(0,o.Q3)("",!0),p.isTeacher?((0,o.uX)(),(0,o.Wv)(C,{key:5,index:"7"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(Q)])),_:1}),t[10]||(t[10]=(0,o.Lk)("span",null,"模型管理",-1))])),_:1})):(0,o.Q3)("",!0),p.isStudent?((0,o.uX)(),(0,o.Wv)(C,{key:6,index:"8"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(A)])),_:1}),t[11]||(t[11]=(0,o.Lk)("span",null,"多轮对话",-1))])),_:1})):(0,o.Q3)("",!0),p.isStudent?((0,o.uX)(),(0,o.Wv)(C,{key:7,index:"9"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(B)])),_:1}),t[12]||(t[12]=(0,o.Lk)("span",null,"个人信息",-1))])),_:1})):(0,o.Q3)("",!0),p.isAdmin?((0,o.uX)(),(0,o.Wv)(C,{key:8,index:"10"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(E)])),_:1}),t[13]||(t[13]=(0,o.Lk)("span",null,"系统模型管理",-1))])),_:1})):(0,o.Q3)("",!0),p.isAdmin?((0,o.uX)(),(0,o.Wv)(C,{key:9,index:"11"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(K)])),_:1}),t[14]||(t[14]=(0,o.Lk)("span",null,"系统提示词管理",-1))])),_:1})):(0,o.Q3)("",!0),p.isStudent?((0,o.uX)(),(0,o.Wv)(C,{key:10,index:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(K)])),_:1}),t[15]||(t[15]=(0,o.Lk)("span",null,"模范问答",-1))])),_:1})):(0,o.Q3)("",!0)])),_:1},8,["default-active","onSelect"]))])),_:1}),(0,o.bF)(N,{class:"main-content"},{default:(0,o.k6)((()=>[(0,o.bF)(h)])),_:1})])),_:1})])),_:1}))],64)}a(4114);var h=a(7477),g=a(6377),f=a(9791),I={name:"App",provide(){return{appState:this.globalState}},components:{Notebook:h.g$A},data(){return{currentPage:"首页",menuKey:0,globalState:{currentCourseId:"",currentChapterId:""}}},computed:{isStudent(){return!!localStorage.getItem("student-token")},isTeacher(){return!!localStorage.getItem("teacher-token")},isAdmin(){return!!localStorage.getItem("admin-token")},activeMenu(){const e=this.$route.name;return{home:"1",courses:"2",chapters:"2",ask:"3-1","chapter-detail":"3-1",ImproveAnswer:"3-1",AnswerSomeone:"3-2",QuestionDetail:"3-2","qa-self":"3-1","course-manage":"4",CompletionPage:"3-1",completionSomeAskPage:"3-2",CollaborativeImprovement:"5",QuestionWithAllAnswer:"5",QuestionManage:"6",Archive:"6",ModelManage:"7",TempVue:"8",StudentInfo:"9",SystemModelManage:"10",PromptManage:"11",ModelAnswer:"12"}[e]||"1"},userName(){const e=localStorage.getItem("student-info"),t=localStorage.getItem("teacher-info"),a=localStorage.getItem("admin-info");return e||t||a||"游客"},currentCourseName(){return console.log("store params:",this.$store.getters["chapter/getCurrentChapterParams"]),this.$store.getters["chapter/getCurrentChapterParams"].courseName},currentChapterName(){return this.$store.getters["chapter/getCurrentChapterParams"].chapterName},currentChapterOrder(){return this.$store.getters["chapter/getCurrentChapterParams"].chapterOrder}},methods:{handleLogout(){localStorage.removeItem("student-token"),localStorage.removeItem("teacher-token"),localStorage.removeItem("admin-token"),localStorage.removeItem("student-info"),localStorage.removeItem("teacher-info"),localStorage.removeItem("admin-info"),localStorage.removeItem("student-id"),localStorage.removeItem("teacher-id"),localStorage.removeItem("admin-id"),this.$router.push("/login")},refreshAllProgress(){this.$refs.chapterView?.refreshProgress?.()},setCurrentIds(e,t){this.globalState.currentCourseId=e,this.globalState.currentChapterId=t},async handleMenuSelect(e){if(("3-1"===e||"3-2"===e||"5"===e||"12"===e)&&(!this.globalState.currentCourseId||!this.globalState.currentChapterId))return this.$message.warning("请先选择课程和章节"),this.menuKey+=1,await this.$nextTick(),this.$router.push({name:"courses"});let t=null,a=null;if("3-1"===e||"3-2"===e){const e=this.$store.getters["chapter/getCurrentChapterParams"],[r,n]=await Promise.all([(0,g.N)({userId:e.userId,courseId:e.courseId,chapterId:e.chapterId}),(0,f.gb)({courseId:e.courseId,chapterId:e.chapterId,userId:e.userId})]);1===r.data.code&&(t=r.data.data,this.$store.commit("chapter/setChapterProgress",[t])),1===n.data.code&&(a=n.data.data,this.$store.commit("chapter/setQuestionData",a))}const r={1:{name:"home"},2:{name:"courses"},4:{name:"course-manage"},5:{name:"CollaborativeImprovement",meta:{title:"协同改进"}},6:{name:"QuestionManage",meta:{title:"问题管理"}},7:{name:"ModelManage",meta:{title:"模型管理"}},8:{name:"TempVue",meta:{title:"多轮对话"}},9:{name:"StudentInfo",meta:{title:"个人信息"}},10:{name:"SystemModelManage",meta:{title:"系统模型管理"}},11:{name:"PromptManage",meta:{title:"系统提示词管理"}},12:{name:"ModelAnswer",meta:{title:"模范问答"}},"3-1":()=>{if(!this.globalState.currentCourseId||!this.globalState.currentChapterId)return this.$message.warning("请先选择课程和章节"),this.$router.push({name:"courses"});const e=this.$store.getters["chapter/getCurrentChapterParams"],a={courseId:this.globalState.currentCourseId.toString(),chapterId:this.globalState.currentChapterId.toString(),question:e?.questionData?.questionContent||"",questionId:e?.questionData?.id?.toString()||""};console.log("验证参数:",{storeQuestionData:e?.questionData,extractedParams:a});const r={0:{path:`/ask/${a.courseId}/${a.chapterId}`,query:{userId:Number(localStorage.getItem("student-id"))}},1:{path:`/courses/${a.courseId}/chapters/${a.chapterId}`,query:{question:a.question,questionId:a.questionId,userId:Number(localStorage.getItem("student-id"))}},2:{name:"CompletionPage",params:{courseId:a.courseId,chapterId:a.chapterId}},default:{name:"CompletionPage",params:{courseId:a.courseId,chapterId:a.chapterId}}},n=t?t.step1Complete+t.step2Complete+t.step3Complete:0;return console.log("3-1当前进度:",n),r[n]||r.default},"3-2":()=>{if(!this.globalState.currentCourseId||!this.globalState.currentChapterId)return this.$message.warning("请先选择课程和章节"),this.$router.push({name:"courses"});const e=t?t.step1Complete+t.step2Complete+t.step3Complete:0;console.log("3-2当前进度:",e);const a={2:{name:"AnswerSomeone",params:{courseId:this.globalState.currentCourseId.toString(),chapterId:this.globalState.currentChapterId.toString()}},3:{name:"completionSomeAskPage",params:{courseId:this.globalState.currentCourseId.toString(),chapterId:this.globalState.currentChapterId.toString()}}};return e<2?(console.log("当前进度:",e),this.$message.warning("请先完成你问你答步骤"),this.menuKey+=1,this.$router.push({name:"courses"})):a[e]||a[2]}},n="function"===typeof r[e]?r[e]():r[e];n&&this.$router.push(n)}}},C=a(1241);const k=(0,C.A)(I,[["render",p]]);var v=k,b=a(1387);const A={class:"chapter-container"},S={class:"header-section"},y={class:"course-title"},F={class:"teacher-info"},w={class:"teacher-name"},q={class:"chapter-link"},Q={class:"chapter-order"},B={class:"chapter-name"};function E(e,t,a,r,n,u){const l=(0,o.g2)("el-button"),i=(0,o.g2)("User"),c=(0,o.g2)("el-icon"),d=(0,o.g2)("el-progress"),m=(0,o.g2)("el-card"),p=(0,o.g2)("el-col"),h=(0,o.g2)("el-row");return(0,o.uX)(),(0,o.CE)("div",A,[(0,o.Lk)("div",S,[(0,o.bF)(l,{type:"primary",class:"back-btn",icon:"el-icon-arrow-left",onClick:t[0]||(t[0]=t=>e.$router.push("/courses"))},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)(" 返回课程列表 ")]))),_:1}),(0,o.Lk)("h2",y,(0,s.v_)(n.courseInfo.courseName),1),(0,o.Lk)("div",F,[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(i)])),_:1}),(0,o.Lk)("span",w,"任课老师："+(0,s.v_)(n.courseInfo.teacherName),1)])]),(0,o.bF)(m,{class:"chapter-list"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{gutter:20},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.chapters,(e=>((0,o.uX)(),(0,o.Wv)(p,{key:`chapter-${e.id}`,xs:24,sm:12,md:8,lg:6},{default:(0,o.k6)((()=>[(0,o.Lk)("div",q,[(0,o.bF)(m,{class:"chapter-card",shadow:"hover",onClick:t=>u.handleChapterClick(e.id)},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Q," 第"+(0,s.v_)(e.chapterOrder)+"章 ",1),(0,o.Lk)("h3",B,(0,s.v_)(e.chapterName),1),(0,o.bF)(d,{percentage:33.33*(n.progressData[e.id]?.step1Complete||0)+33.33*(n.progressData[e.id]?.step2Complete||0)+33.33*(n.progressData[e.id]?.step3Complete||0),status:1===n.progressData[e.id]?.step3Complete?"success":"",style:{"margin-top":"10px"}},null,8,["percentage","status"])])),_:2},1032,["onClick"])])])),_:2},1024)))),128))])),_:1})])),_:1})])}a(8111),a(116),a(7588),a(8237);var K={computed:{courseId(){return this.$route.params.courseId}},data(){return{selectedChapters:{},chapters:[],courseInfo:{},progressData:{}}},mounted(){this.forceRefreshProgress(),this.$nextTick((()=>{this.chapters.forEach((e=>{this.$set(this.selectedChapters,e.id,!1)}))}))},watch:{"$route.params.courseId":{immediate:!0,handler(e){e&&this.fetchAllChapterProgress()}}},methods:{async forceRefreshProgress(){await this.fetchCourseDetail(),await this.fetchAllChapterProgress(),this.chapters.forEach((e=>{this.fetchProgress(e.id)}))},handleCheckboxChange(e){this.$store.commit("chapter/setSelectedChapter",{chapterId:e.id,isSelected:!0})},async fetchChapterDetail(e){try{const t=await(0,f.L1)(e);return 1===t.data.code?t.data.data:null}catch(t){console.error("获取章节详情失败:",t),this.$message.error("章节详情加载失败")}},async handleChapterClick(e){const t=new AbortController;try{const[r,n]=await Promise.all([(0,f.L1)(e,{signal:t.signal}),this.fetchQuestion(e)]),o=r.data.data;try{await this.$confirm(`已选择第${o.chapterOrder}章`,"选择成功",{confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!0,type:"success"}),this.$store.commit("chapter/setCurrentChapterParams",{userId:Number(localStorage.getItem("student-id")),courseId:this.courseId,chapterId:e,courseName:o.courseName,chapterName:o.chapterName,chapterOrder:o.chapterOrder,questionData:n,progress:this.progressData[e]||{}}),localStorage.setItem("currentCourseId",this.courseId),this.$root.setCurrentIds(this.courseId,e),await this.fetchProgress(e);const t=this.chapters.find((t=>t.id===e));this.handleCheckboxChange(t)}catch(a){if("cancel"===a)return t.abort(),void this.$message.warning("操作已取消");throw a}}catch(r){"AbortError"===r.name?console.log("请求已被中止"):(console.error("处理失败:",r),this.$message.error(`操作失败: ${r.message}`))}},toggleChapterSelection(e){this.setSelectedChapter({chapterId:e,isSelected:!this.getSelectedChapters(e)})},async fetchAllChapterProgress(){try{const e=await(0,f.Qt)({userId:Number(localStorage.getItem("student-id")),courseId:this.courseId});1===e.data.code&&(this.progressData=e.data.data.reduce(((e,t)=>(e[t.chapterId]={step1Complete:Number(t.step1Complete),step2Complete:Number(t.step2Complete),step3Complete:Number(t.step3Complete)},e)),{}),this.$store.commit("chapter/setChapterProgress",e.data.data))}catch(e){console.error("获取章节进度失败:",e),this.$message.error("进度加载失败")}},async fetchProgress(e){try{const t=await(0,f.Fh)({userId:Number(localStorage.getItem("student-id")),courseId:this.courseId,chapterId:e}),{step1Complete:a=0,step2Complete:r=0,step3Complete:n=0}=t.data?.data||{};this.progressData[e]={step1Complete:Number(a),step2Complete:Number(r),step3Complete:Number(n)}}catch(t){console.error("进度获取失败:",t)}},async fetchCourseDetail(){try{const e=await(0,f.Tc)(this.courseId);1===e.data.code&&(this.courseInfo=e.data.data,this.chapters=e.data.data.chapters.sort(((e,t)=>e.chapterOrder-t.chapterOrder)))}catch(e){console.error("获取课程详情失败:",e),this.$message.error("课程加载失败")}},async fetchQuestion(e){try{const t=await(0,f.gb)({userId:Number(localStorage.getItem("student-id")),courseId:this.courseId,chapterId:e});return 1===t.data.code?t.data.data:null}catch(t){return console.error("获取问题失败:",t),this.$message.error("问题加载失败"),null}}}};const L=(0,C.A)(K,[["render",E],["__scopeId","data-v-49f0851c"]]);var P=L,N=a(782),_={namespaced:!0,state:()=>({currentChapterParams:{courseId:null,chapterId:null,courseName:"",chapterName:"",chapterOrder:0,questionData:null,progress:{}},selectedChapters:{}}),mutations:{setCurrentChapterParams(e,t){e.currentChapterParams=t},setSelectedChapter(e,t){e.selectedChapters[t.chapterId]=t.isSelected},setChapterProgress(e,t){e.currentChapterParams.progress=t.reduce(((e,t)=>(e[t.chapterId]={step1Complete:Number(t.step1Complete),step2Complete:Number(t.step2Complete),step3Complete:Number(t.step3Complete)},e)),{})},setQuestionData(e,t){e.currentChapterParams.questionData=t}},getters:{getCurrentChapterParams:e=>e.currentChapterParams,getSelectedChapters:e=>t=>e.selectedChapters[t]}},V=(0,N.y$)({modules:{chapter:_}}),O=a.p+"img/login-bg.acb4daad.jpg",X="data:image/png;base64,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",U=a(144),x=a(2636),D=a(1219);const W={class:"login-container"};var T={__name:"LoginView",setup(e){const t=(0,b.rd)(),a=(0,U.KR)("student"),r=(0,U.KR)({username:"",password:""}),n=async()=>{try{let e;if(e="student"===a.value?await(0,x.Bs)({studentNumber:r.value.username,password:r.value.password}):"admin"===a.value?await(0,x.bN)({workerNumber:r.value.username,password:r.value.password}):await(0,x._t)({workerNumber:r.value.username,password:r.value.password}),1!==e.data.code)throw new Error(e.data.msg||"登录失败");"student"===a.value?(localStorage.setItem("student-token",e.data.data.token),localStorage.setItem("student-info",e.data.data.studentName),localStorage.setItem("student-id",e.data.data.id)):"admin"===a.value?(localStorage.setItem("admin-token",e.data.data.token),localStorage.setItem("admin-info",e.data.data.adminName),localStorage.setItem("admin-id",e.data.data.id)):(localStorage.setItem("teacher-token",e.data.data.token),localStorage.setItem("teacher-info",e.data.data.teacherName),localStorage.setItem("teacher-id",e.data.data.id)),t.push(localStorage.getItem("admin-token")?"/system-model":"/")}catch(e){console.error("登录失败:",e),D.nk.error(e.message),r.value.password="",r.value.username=""}},s=()=>{"admin"!==a.value?t.push(`/register?type=${a.value}`):D.nk.error("管理员账号不可自行注册")};return(e,t)=>{const u=(0,o.g2)("el-radio"),l=(0,o.g2)("el-radio-group"),i=(0,o.g2)("el-form-item"),c=(0,o.g2)("el-input"),d=(0,o.g2)("el-button"),m=(0,o.g2)("el-form"),p=(0,o.g2)("el-card");return(0,o.uX)(),(0,o.CE)("div",W,[t[11]||(t[11]=(0,o.Lk)("div",{class:"background-wrapper"},[(0,o.Lk)("img",{src:O,class:"background-image"})],-1)),(0,o.bF)(p,{class:"login-card"},{default:(0,o.k6)((()=>[t[8]||(t[8]=(0,o.Lk)("div",{class:"logo-wrapper"},[(0,o.Lk)("img",{src:X,class:"logo"})],-1)),t[9]||(t[9]=(0,o.Lk)("h2",{class:"title"},"智慧问学系统",-1)),t[10]||(t[10]=(0,o.Lk)("h2",null,"系统登录",-1)),(0,o.bF)(m,{model:r.value,"label-width":"100px"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{label:"用户类型"},{default:(0,o.k6)((()=>[(0,o.bF)(l,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e)},{default:(0,o.k6)((()=>[(0,o.bF)(u,{label:"student"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)("学生")]))),_:1}),(0,o.bF)(u,{label:"teacher"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)("教师")]))),_:1}),(0,o.bF)(u,{label:"admin"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("管理员")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(i,{label:"student"===a.value?"学号":"工号"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{modelValue:r.value.username,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value.username=e),placeholder:"请输入您的编号"},null,8,["modelValue"])])),_:1},8,["label"]),(0,o.bF)(i,{label:"密码"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{modelValue:r.value.password,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value.password=e),type:"password","show-password":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,{type:"primary",onClick:n},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("登录")]))),_:1}),(0,o.bF)(d,{onClick:s},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)("快速注册")]))),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])}}};const M=(0,C.A)(T,[["__scopeId","data-v-75406064"]]);var j=M,R=(a(1701),a(9942));const J={class:"archive-container"},H={class:"header-container"},Y={key:1},Z={class:"action-buttons"},z={key:0,class:"new-answer-section"},$={key:0,class:"answer-item"},G={class:"answer-content"},ee={key:1},te={class:"answer-actions"},ae={key:1,class:"answer-item"},re={class:"answer-content"},ne={key:1},oe={class:"answer-actions"},se={class:"answer-content"},ue={key:1},le={class:"answer-actions"};var ie={__name:"ArchiveView",setup(e){const t=(0,b.rd)(),a=(0,U.KR)(!1),r=(0,U.KR)(""),n=(0,U.KR)(!1),u=async()=>{if(r.value)try{const e=await(0,R.hG)({content:c.value.questionContent,courseId:c.value.courseId,chapterId:c.value.chapterId,originalQuestionId:i.query.questionId});await(0,R.x9)({content:r.value,questionId:e.data.data}),D.nk.success("归档成功"),r.value="",n.value=!1,t.push("/teacher/questions")}catch(e){D.nk.error("归档失败")}else D.nk.error("请输入回答内容")},l=async e=>{const a=m.value[e].content;if(a)try{const e=await(0,R.hG)({content:c.value.questionContent,courseId:c.value.courseId,chapterId:c.value.chapterId,originalQuestionId:i.query.questionId});await(0,R.x9)({content:a,questionId:e.data.data}),D.nk.success("归档成功"),t.push("/teacher/questions")}catch(r){D.nk.error("归档失败")}else D.nk.error("答案内容不能为空")},i=(0,b.lq)(),c=(0,U.KR)(null),d=(0,U.KR)([]),m=(0,U.KR)([{editing:!1,content:""},{editing:!1,content:""}]);(0,o.sV)((async()=>{if(i.query.questionId)try{const e=await(0,R.k7)(i.query.questionId),t=e.data.data;c.value={questionContent:e.data.data.questionContent,courseId:e.data.data.courseId,chapterId:e.data.data.chapterId},d.value=[t.answerContent,t.improveAnswerContent,...t.studentAnswerAllVOList.map((e=>({content:e.answerContent})))].filter((e=>e)),m.value=d.value.map((e=>({editing:!1,content:"string"===typeof e?e:e.content}))),console.log(t.answerContent),console.log(t.improveAnswerContent),console.log(t.studentAnswerAllVOList),d.value=[t.answerContent,t.improveAnswerContent,...t.studentAnswerAllVOList.map((e=>({content:e.answerContent})))].filter((e=>e))}catch(e){D.nk.error("数据加载失败")}else D.nk.error("缺少问题ID参数")}));const p=e=>{const t=m.value[e];if(t.editing=!t.editing,!t.editing){const a=[...d.value];a[e]=t.content,d.value=a}};return(e,t)=>{const i=(0,o.g2)("el-input"),h=(0,o.g2)("el-button"),g=(0,o.g2)("el-card");return(0,o.uX)(),(0,o.CE)("div",J,[c.value?((0,o.uX)(),(0,o.Wv)(g,{key:0},{header:(0,o.k6)((()=>[(0,o.Lk)("div",H,[(0,o.Lk)("div",{class:"question-content",style:(0,s.Tr)({width:a.value?"800px":"auto"})},[a.value?((0,o.uX)(),(0,o.Wv)(i,{key:0,modelValue:c.value.questionContent,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value.questionContent=e),type:"textarea",rows:4,"min-rows":4,style:{width:"800px","min-height":"120px"}},null,8,["modelValue"])):((0,o.uX)(),(0,o.CE)("span",Y,(0,s.v_)(c.value.questionContent),1))],4),(0,o.Lk)("div",Z,[(0,o.bF)(h,{onClick:t[1]||(t[1]=e=>a.value=!a.value),type:a.value?"success":"primary"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(a.value?"完成编辑":"编辑问题"),1)])),_:1},8,["type"]),(0,o.bF)(h,{type:"primary",onClick:t[2]||(t[2]=e=>n.value=!0)},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)(" 新建回答 ")]))),_:1})])]),n.value?((0,o.uX)(),(0,o.CE)("div",z,[(0,o.bF)(i,{modelValue:r.value,"onUpdate:modelValue":t[3]||(t[3]=e=>r.value=e),type:"textarea",rows:3,placeholder:"请输入新的回答内容"},null,8,["modelValue"]),(0,o.bF)(h,{type:"primary",class:"confirm-btn",onClick:u},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)(" 确认归档 ")]))),_:1})])):(0,o.Q3)("",!0)])),default:(0,o.k6)((()=>[d.value[0]?((0,o.uX)(),(0,o.CE)("div",$,[(0,o.Lk)("div",G,[m.value[0].editing?((0,o.uX)(),(0,o.Wv)(i,{key:0,modelValue:m.value[0].content,"onUpdate:modelValue":t[4]||(t[4]=e=>m.value[0].content=e),type:"textarea",rows:2},null,8,["modelValue"])):((0,o.uX)(),(0,o.CE)("span",ee,(0,s.v_)(m.value[0].content),1))]),(0,o.Lk)("div",te,[(0,o.bF)(h,{onClick:t[5]||(t[5]=e=>p(0)),type:m.value[0].editing?"success":"primary"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(m.value[0].editing?"完成编辑":"编辑答案"),1)])),_:1},8,["type"]),(0,o.bF)(h,{type:"primary",onClick:t[6]||(t[6]=e=>l(0))},{default:(0,o.k6)((()=>t[12]||(t[12]=[(0,o.eW)(" 确认归档 ")]))),_:1})])])):(0,o.Q3)("",!0),d.value[1]?((0,o.uX)(),(0,o.CE)("div",ae,[(0,o.Lk)("div",re,[m.value[1].editing?((0,o.uX)(),(0,o.Wv)(i,{key:0,modelValue:m.value[1].content,"onUpdate:modelValue":t[7]||(t[7]=e=>m.value[1].content=e),type:"textarea",rows:2},null,8,["modelValue"])):((0,o.uX)(),(0,o.CE)("span",ne,(0,s.v_)(m.value[1].content),1))]),(0,o.Lk)("div",oe,[(0,o.bF)(h,{onClick:t[8]||(t[8]=e=>p(1)),type:m.value[1].editing?"success":"primary"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(m.value[1].editing?"完成编辑":"编辑答案"),1)])),_:1},8,["type"]),(0,o.bF)(h,{type:"primary",onClick:t[9]||(t[9]=e=>l(1))},{default:(0,o.k6)((()=>t[13]||(t[13]=[(0,o.eW)(" 确认归档 ")]))),_:1})])])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.value.slice(2),((e,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"answer-item",key:a},[(0,o.Lk)("div",se,[m.value[a+2].editing?((0,o.uX)(),(0,o.Wv)(i,{key:0,modelValue:m.value[a+2].content,"onUpdate:modelValue":e=>m.value[a+2].content=e,type:"textarea",rows:2},null,8,["modelValue","onUpdate:modelValue"])):((0,o.uX)(),(0,o.CE)("span",ue,(0,s.v_)(m.value[a+2].content),1))]),(0,o.Lk)("div",le,[(0,o.bF)(h,{onClick:e=>p(a+2),type:m.value[a+2].editing?"success":"primary"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(m.value[a+2].editing?"完成编辑":"编辑答案"),1)])),_:2},1032,["onClick","type"]),(0,o.bF)(h,{type:"primary",onClick:e=>l(a+2)},{default:(0,o.k6)((()=>t[14]||(t[14]=[(0,o.eW)(" 确认归档 ")]))),_:2},1032,["onClick"])])])))),128))])),_:1})):(0,o.Q3)("",!0)])}}};const ce=(0,C.A)(ie,[["__scopeId","data-v-152e1355"]]);var de=ce;const me=[{path:"/login",name:"login",component:j,meta:{isFullPage:!0}},{path:"/",name:"home",component:()=>a.e(523).then(a.bind(a,2523)),meta:{requiresAuth:!1}},{path:"/courses",name:"courses",component:()=>a.e(815).then(a.bind(a,5815)),meta:{requiresAuth:!0}},{path:"/courses/:courseId/chapters",name:"chapters",component:P,meta:{requiresAuth:!0}},{path:"/courses/:courseId/chapters/:chapterId",name:"chapter-detail",component:()=>Promise.all([a.e(357),a.e(310),a.e(132),a.e(17)]).then(a.bind(a,8017)),meta:{requiresAuth:!0}},{path:"/course-manage",name:"course-manage",component:()=>a.e(847).then(a.bind(a,8847)),meta:{requiresAuth:!0}},{path:"/ask/:courseId/:chapterId",name:"ask",component:()=>Promise.all([a.e(357),a.e(310),a.e(898)]).then(a.bind(a,8898)),meta:{requiresAuth:!0}},{path:"/improve-answer/:courseId/:chapterId",name:"ImproveAnswer",component:()=>Promise.all([a.e(357),a.e(310),a.e(402)]).then(a.bind(a,2402)),props:!0},{path:"/qa-self",name:"qa-self",component:()=>a.e(973).then(a.bind(a,9973))},{path:"/answer-someone/:courseId/:chapterId",name:"AnswerSomeone",component:()=>a.e(706).then(a.bind(a,5706)),props:!0},{path:"/question-detail/:questionId",name:"QuestionDetail",component:()=>a.e(865).then(a.bind(a,1865)),props:!0},{path:"/question-with-answers/:questionId",name:"QuestionWithAllAnswer",component:()=>Promise.all([a.e(132),a.e(746)]).then(a.bind(a,9746)),props:!0},{path:"/completion/:courseId/:chapterId",name:"CompletionPage",component:()=>a.e(221).then(a.bind(a,4221)),props:!0},{path:"/completion-ask/:courseId/:chapterId",name:"completionSomeAskPage",component:()=>a.e(278).then(a.bind(a,5278)),props:!0},{path:"/collaborative",name:"CollaborativeImprovement",component:()=>a.e(408).then(a.bind(a,3408))},{path:"/teacher/questions",name:"QuestionManage",component:()=>Promise.all([a.e(357),a.e(678)]).then(a.bind(a,678)),meta:{title:"问题管理",roles:["teacher"],isFullPage:!1}},{path:"/register",name:"Register",component:()=>a.e(740).then(a.bind(a,2740)),meta:{isFullPage:!0}},{path:"/model-manage",name:"ModelManage",component:()=>a.e(195).then(a.bind(a,7195)),meta:{requiresAuth:!0,isTeacher:!0}},{path:"/archive",name:"Archive",component:de,props:e=>({questionId:e.query.questionId})},{path:"/temp-vue",name:"TempVue",component:()=>a.e(502).then(a.bind(a,4502)),meta:{requiresAuth:!0,roles:["student"]}},{path:"/student-info",name:"StudentInfo",component:()=>a.e(134).then(a.bind(a,1134)),meta:{requireAuth:!0,roles:["student"]}},{path:"/system-model",name:"SystemModelManage",component:()=>a.e(883).then(a.bind(a,2883)),meta:{requiresAuth:!0,title:"系统模型管理",roles:["admin"]}},{path:"/prompt-manage",name:"PromptManage",component:()=>a.e(505).then(a.bind(a,8505)),meta:{requiresAuth:!0,title:"提示词管理",roles:["admin"]}},{path:"/model-answer",name:"ModelAnswer",component:()=>a.e(94).then(a.bind(a,3094)),meta:{requiresAuth:!0,roles:["student"]}}],pe=(0,b.aE)({history:(0,b.LA)("/"),routes:me});pe.beforeEach(((e,t,a)=>{const r=localStorage.getItem("student-token"),n=localStorage.getItem("teacher-token"),o=localStorage.getItem("admin-token");if("Register"===e.name||"login"===e.name)return a();r||n||o?a():a({name:"login"})})),pe.beforeEach((async e=>{const t=V.state.user?.id,a=e.params.courseId||V.getters["chapter/getCurrentChapterParams"]?.courseId;return t&&a&&await V.dispatch("chapter/fetchAllChapterProgress",{userId:t,courseId:a}),!0}));var he=pe;const ge=(0,r.Ef)(v);ge.use(V),ge.use(he),ge.use(n.A),ge.mount("#app")},5720:function(e,t,a){var r=a(4373);const n=r.A.create({baseURL:"http://47.105.124.57:9090",timeout:5e3});n.interceptors.request.use((e=>{const t=localStorage.getItem("student-token"),a=localStorage.getItem("teacher-token"),r=localStorage.getItem("admin-token");return t?e.headers["student-token"]=t:a?e.headers["teacher-token"]=a:r&&(e.headers["admin-token"]=r),e}),(e=>Promise.reject(e))),n.interceptors.response.use((e=>e),(e=>(401===e.response.status&&(localStorage.removeItem("student-token"),localStorage.removeItem("teacher-token"),localStorage.removeItem("admin-token"),window.location.href="/login"),Promise.reject(e)))),t.A=n},6377:function(e,t,a){a.d(t,{N:function(){return n},X:function(){return o}});var r=a(5720);const n=e=>(0,r.A)({url:"/student/user-chapter-progress/get-or-create",method:"get",params:e}),o=e=>(0,r.A)({url:"/student/user-chapter-progress/update",method:"post",data:e})},9791:function(e,t,a){a.d(t,{DT:function(){return m},Fh:function(){return l},L1:function(){return s},Qt:function(){return u},Tc:function(){return o},Vs:function(){return n},c0:function(){return d},gb:function(){return i},mL:function(){return c}});var r=a(5720);const n=e=>(0,r.A)({url:"/student/courses/page",method:"GET",params:{...e,sort:e.sort||"update_time",isAsc:e.isAsc||!1}}),o=e=>(0,r.A)({url:`/student/courses/${e}`,method:"get"}),s=e=>(0,r.A)({url:`/student/chapters/${e}`,method:"get"}),u=e=>(0,r.A)({url:"/student/user-chapter-progress/list-by-user",method:"get",params:e}),l=e=>(0,r.A)({url:"/student/user-chapter-progress/get-or-create",method:"get",params:e}),i=e=>(0,r.A)({url:"/student/question/get-by-id",method:"get",params:e}),c=e=>(0,r.A)({url:"/student/question/list",method:"get",params:e}),d=(e,t)=>{const a=new FormData;return a.append("file",e),a.append("folderName",t),r.A.post("/teacher/common/upload",a,{headers:{"Content-Type":"multipart/form-data"}})},m=()=>(0,r.A)({url:"/teacher/courses/count",method:"get"})},9942:function(e,t,a){a.d(t,{Ml:function(){return n},hG:function(){return l},k7:function(){return u},ky:function(){return o},u6:function(){return s},x9:function(){return i}});var r=a(5720);const n=e=>(0,r.A)({url:"/teacher/question/page",method:"get",params:e}),o=()=>(0,r.A)({url:"/teacher/courses/names",method:"get"}),s=e=>(0,r.A)({url:"/teacher/chapters/names",method:"get",params:{courseId:e}});function u(e){return(0,r.A)({url:"/teacher/question/allAnswer",method:"get",params:{questionId:e}})}const l=e=>(0,r.A)({url:"/teacher/archive-questions",method:"post",data:e}),i=e=>(0,r.A)({url:"/teacher/archive-answers",method:"post",data:e})}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,o){if(!r){var s=1/0;for(c=0;c<e.length;c++){r=e[c][0],n=e[c][1],o=e[c][2];for(var u=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(u=!1,o<s&&(s=o));if(u){e.splice(c--,1);var i=n();void 0!==i&&(t=i)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,r){return a.f[r](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{17:"11b51b12",94:"44938486",132:"35f3e7f7",134:"3ce2ad21",195:"578781dc",221:"d2818324",278:"1868731a",310:"1e00cdcd",357:"9332360b",402:"90a59837",408:"ba619aa7",502:"10ab3b2b",505:"4718b59e",523:"b9ad9514",678:"9b17639a",706:"bd7fca33",740:"f193ed17",746:"aa08eb9e",815:"031f06ad",847:"8ed469b8",865:"2c7e4116",883:"4613547d",898:"252ff9cc",973:"b6c44290"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{17:"9c1856a7",94:"8f56fe52",132:"89f1e140",134:"d610a8ce",402:"effb6243",408:"206c40ce",502:"ac224e91",505:"9097db1c",523:"6ea4349a",678:"1b3b4f70",706:"9340c70a",740:"c0e2623d",746:"5027c59d",815:"a03b0875",865:"c6647f10",883:"81a3855b",898:"264a5667",973:"c612e2bf"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="teacher-ai:";a.l=function(r,n,o,s){if(e[r])e[r].push(n);else{var u,l;if(void 0!==o)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var d=i[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){u=d;break}}u||(l=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.setAttribute("data-webpack",t+o),u.src=r),e[r]=[n];var m=function(t,a){u.onerror=u.onload=null,clearTimeout(p);var n=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),n&&n.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=m.bind(null,u.onerror),u.onload=m.bind(null,u.onload),l&&document.head.appendChild(u)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,r,n,o){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",a.nc&&(s.nonce=a.nc);var u=function(a){if(s.onerror=s.onload=null,"load"===a.type)n();else{var r=a&&a.type,u=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+u+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=u,s.parentNode&&s.parentNode.removeChild(s),o(l)}};return s.onerror=s.onload=u,s.href=t,r?r.parentNode.insertBefore(s,r.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var n=a[r],o=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(o===e||o===t))return n}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){n=s[r],o=n.getAttribute("data-href");if(o===e||o===t)return n}},r=function(r){return new Promise((function(n,o){var s=a.miniCssF(r),u=a.p+s;if(t(s,u))return n();e(r,u,null,n,o)}))},n={524:0};a.f.miniCss=function(e,t){var a={17:1,94:1,132:1,134:1,402:1,408:1,502:1,505:1,523:1,678:1,706:1,740:1,746:1,815:1,865:1,883:1,898:1,973:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=r(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}}(),function(){var e={524:0};a.f.j=function(t,r){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise((function(a,r){n=e[t]=[a,r]}));r.push(n[2]=o);var s=a.p+a.u(t),u=new Error,l=function(r){if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",u.name="ChunkLoadError",u.type=o,u.request=s,n[1](u)}};a.l(s,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,s=r[0],u=r[1],l=r[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(n in u)a.o(u,n)&&(a.m[n]=u[n]);if(l)var c=l(a)}for(t&&t(r);i<s.length;i++)o=s[i],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},r=self["webpackChunkteacher_ai"]=self["webpackChunkteacher_ai"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(4415)}));r=a.O(r)})();
//# sourceMappingURL=app.067e13aa.js.map