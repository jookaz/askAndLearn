"use strict";(self["webpackChunkteacher_ai"]=self["webpackChunkteacher_ai"]||[]).push([[134],{1134:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var r=a(6768),u=a(4232);const n={class:"student-container"},s={class:"wenxue-detail"};function d(e,t,a,d,c,o){const l=(0,r.g2)("el-descriptions-item"),i=(0,r.g2)("el-descriptions"),h=(0,r.g2)("el-card"),f=(0,r.g2)("el-progress"),g=(0,r.gN)("loading");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(h,{class:"info-card"},{default:(0,r.k6)((()=>[t[0]||(t[0]=(0,r.Lk)("h3",null,"👤 个人信息",-1)),(0,r.bF)(i,{column:1,border:""},{default:(0,r.k6)((()=>[(0,r.bF)(l,{label:"姓名"},{default:(0,r.k6)((()=>[(0,r.eW)((0,u.v_)(c.studentInfo.studentName),1)])),_:1}),(0,r.bF)(l,{label:"学号"},{default:(0,r.k6)((()=>[(0,r.eW)((0,u.v_)(c.studentInfo.studentNumber),1)])),_:1}),(0,r.bF)(l,{label:"班级"},{default:(0,r.k6)((()=>[(0,r.eW)((0,u.v_)(c.studentInfo.classes),1)])),_:1}),(0,r.bF)(l,{label:"专业"},{default:(0,r.k6)((()=>[(0,r.eW)((0,u.v_)(c.studentInfo.major),1)])),_:1})])),_:1})])),_:1}),(0,r.bF)(h,{class:"wenxue-card"},{default:(0,r.k6)((()=>[t[2]||(t[2]=(0,r.Lk)("h3",null,"📊 当前课程问学值",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(f,{percentage:c.wenxueValue,format:e.formatProgress,status:"success","stroke-width":"15"},null,8,["percentage","format"]),(0,r.Lk)("div",s,[(0,r.eW)(" 课程名称："+(0,u.v_)(o.currentCourseName)+" ",1),t[1]||(t[1]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" 问学值得分："+(0,u.v_)(c.wenxueValue)+" 分 ",1)])])),[[g,c.loading]])])),_:1})])}var c=a(6135),o={data(){return{studentInfo:{},wenxueValue:0,loading:!0,currentCourseId:localStorage.getItem("currentCourseId")||""}},computed:{currentCourseName(){return this.$store.getters["chapter/getCurrentChapterParams"]?.courseName||"未选择课程"}},async mounted(){await this.fetchStudentInfo(),this.currentCourseId?await this.fetchWenxueValue():this.$message.warning("当前未选择课程，无法获取问学值"),this.loading=!1},watch:{"$store.state.chapter.currentChapterParams":{handler(e){e?.courseId&&(this.currentCourseId=e.courseId,localStorage.setItem("currentCourseId",e.courseId))},deep:!0}},methods:{async fetchStudentInfo(){try{const e=await(0,c.yd)();1===e.data?.code&&(this.studentInfo=e.data.data)}catch(e){this.$message.error("获取学生信息失败")}},async fetchWenxueValue(){try{const e=await(0,c.K_)(this.currentCourseId);1===e.data?.code&&(this.wenxueValue=e.data.data.wenxueValue||0,this.$message.success("问学值获取成功"))}catch(e){this.$message.error("获取问学值失败")}}}},l=a(1241);const i=(0,l.A)(o,[["render",d],["__scopeId","data-v-effeead8"]]);var h=i},6135:function(e,t,a){a.d(t,{K_:function(){return n},TG:function(){return s},yd:function(){return u}});var r=a(5720);const u=()=>(0,r.A)({url:"/student/student/get-by-id",method:"get"});function n(e){return(0,r.A)({url:"/student/student-chapter-wenxue-value/get-by-courseId",method:"get",params:{courseId:e}})}const s=e=>(0,r.A)({url:"/student/archive/page",method:"get",params:e})}}]);
//# sourceMappingURL=134.3ce2ad21.js.map