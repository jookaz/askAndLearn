{"version":3,"file":"js/815.031f06ad.js","mappings":"iMACOA,MAAM,oB,GAuBEA,MAAM,e,GACLA,MAAM,e,GAGPA,MAAM,e,mKA3BnBC,EAAAA,EAAAA,IA8CM,MA9CNC,EA8CM,EA5CJC,EAAAA,EAAAA,IA+BSC,EAAA,CA9BNC,OAAQ,GACTL,MAAM,e,CALZM,SAAAC,EAAAA,EAAAA,KAQQ,IAAyB,gBAD3BN,EAAAA,EAAAA,IA0BSO,EAAAA,GAAA,MAjCfC,EAAAA,EAAAA,IAQyBC,EAAAC,SAAVC,K,WADTC,EAAAA,EAAAA,IA0BSC,EAAA,CAxBNC,IAAG,UAAYH,EAAOI,KACtBC,GAAI,GACJC,GAAI,GACJC,GAAI,EACJC,GAAI,G,CAbbd,SAAAC,EAAAA,EAAAA,KAeQ,IAiBU,EAjBVJ,EAAAA,EAAAA,IAiBUkB,EAAA,CAhBRrB,MAAM,cACLsB,QAAKC,GAAEC,EAAAC,kBAAkBb,EAAOI,K,CAjB3CV,SAAAC,EAAAA,EAAAA,KAmBU,IAIE,EAJFJ,EAAAA,EAAAA,IAIEuB,EAAA,CAHCC,IAAKf,EAAOgB,OAAS,+GACtBC,IAAI,QACJ7B,MAAM,gB,iBAER8B,EAAAA,EAAAA,IAOM,MAPNC,EAOM,EANJD,EAAAA,EAAAA,IAEK,KAFLE,GAEKC,EAAAA,EAAAA,IADArB,EAAOsB,YAAU,IAEtBJ,EAAAA,EAAAA,IAEI,IAFJK,GAEIF,EAAAA,EAAAA,IADCrB,EAAOwB,aAAW,QA7BnCC,EAAA,G,qBAAAA,EAAA,G,kBAAAA,EAAA,KAqCIlC,EAAAA,EAAAA,IASEmC,EAAA,CARAC,WAAA,GACAC,OAAO,2BACNC,MAAO/B,EAAA+B,MACP,aAAY,CAAC,EAAG,GAAI,IACpB,YAAW/B,EAAAgC,SACX,eAAchC,EAAAiC,OACdC,aAAapB,EAAAqB,iBACbC,gBAAgBtB,EAAAuB,qB,sGAQvB,GACEC,IAAAA,GACE,MAAO,CACLrC,QAAS,GACT8B,MAAO,EACPE,OAAQ,EACRD,SAAU,EAEd,EACAO,OAAAA,GACEC,KAAKC,cACP,EACAC,QAAS,CACP,kBAAMD,GACJ,IACE,MAAME,EAAS,CACbV,OAAQO,KAAKP,OACbD,SAAUQ,KAAKR,SACfY,KAAM,cACNC,OAAO,GAEHC,QAAYC,EAAAA,EAAAA,IAAcJ,GAEhC,GAAsB,IAAlBG,EAAIR,KAAKU,KACX,MAAM,IAAIC,MAAMH,EAAII,SAAW,WAGjCV,KAAKvC,QAAU6C,EAAIR,KAAKA,KAAKa,QAC7BX,KAAKT,MAAQe,EAAIR,KAAKA,KAAKP,KAC7B,CAAE,MAAOqB,GACPC,QAAQD,MAAM,WAAYA,GAC1BZ,KAAKc,SAASF,MAAMA,EAAMF,QAC5B,CACF,EACAf,gBAAAA,CAAiBoB,GACff,KAAKR,SAAWuB,EAChBf,KAAKC,cACP,EACAJ,mBAAAA,CAAoBmB,GAClBhB,KAAKP,OAASuB,EACdhB,KAAKC,cACP,EACA1B,iBAAAA,CAAkB0C,GAChBjB,KAAKkB,QAAQC,KAAK,YAAYC,OAAOH,cACvC,I,UC1FJ,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://teacher-ai/./src/views/CourseView.vue","webpack://teacher-ai/./src/views/CourseView.vue?6e20"],"sourcesContent":["<template>\r\n  <div class=\"course-container\">\r\n    <!-- 课程书架布局 -->\r\n    <el-row\r\n      :gutter=\"20\"\r\n      class=\"course-list\"\r\n    >\r\n      <el-col \r\n        v-for=\"course in courses\" \r\n        :key=\"`course-${course.id}`\" \r\n        :xs=\"24\"\r\n        :sm=\"12\"\r\n        :md=\"8\"\r\n        :lg=\"6\"\r\n      >\r\n        <el-card \r\n          class=\"course-card\"\r\n          @click=\"handleCourseClick(course.id)\"\r\n        >\r\n          <el-image\r\n            :src=\"course.image || 'https://java-aitwo.oss-cn-beijing.aliyuncs.com/teacher-course-image/0be790dc-a3f8-4eda-948a-be2592c2f416.jpg'\"\r\n            fit=\"cover\"\r\n            class=\"course-image\"\r\n          />\r\n          <div class=\"course-info\">\r\n            <h3 class=\"course-name\">\r\n              {{ course.courseName }}\r\n            </h3>\r\n            <p class=\"course-desc\">\r\n              {{ course.description }}\r\n            </p>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 分页组件 -->\r\n    <el-pagination\r\n      background\r\n      layout=\"prev, pager, next, sizes\"\r\n      :total=\"total\"\r\n      :page-sizes=\"[8, 16, 24]\"\r\n      :page-size=\"pageSize\"\r\n      :current-page=\"pageNo\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCoursePage } from '@/api/course'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      courses: [],\r\n      total: 0,\r\n      pageNo: 1,\r\n      pageSize: 8\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchCourses()\r\n  },\r\n  methods: {\r\n    async fetchCourses() {\r\n      try {\r\n        const params = {\r\n          pageNo: this.pageNo,\r\n          pageSize: this.pageSize,\r\n          sort: 'update_time',  // 修正排序字段为update_time\r\n          isAsc: false\r\n        }\r\n        const res = await getCoursePage(params)\r\n        \r\n        if (res.data.code !== 1) {\r\n          throw new Error(res.message || '获取课程失败1')\r\n        }\r\n        \r\n        this.courses = res.data.data.records  // 调整为data.data.records\r\n        this.total = res.data.data.total      // 调整为data.data.total\r\n      } catch (error) {\r\n        console.error('获取课程失败2:', error)\r\n        this.$message.error(error.message)\r\n      }\r\n    },\r\n    handleSizeChange(size) {\r\n      this.pageSize = size\r\n      this.fetchCourses()\r\n    },\r\n    handleCurrentChange(page) {\r\n      this.pageNo = page\r\n      this.fetchCourses()\r\n    },\r\n    handleCourseClick(courseId) {\r\n      this.$router.push(`/courses/${String(courseId)}/chapters`)  // 强制转换为字符串\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.course-container {\r\n  padding: 20px;\r\n}\r\n\r\n.course-list {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.course-card {\r\n  margin-bottom: 20px;\r\n  cursor: pointer;\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.course-card:hover {\r\n  transform: translateY(-5px);\r\n}\r\n\r\n.course-image {\r\n  height: 200px;\r\n  width: 100%;\r\n}\r\n\r\n.course-info {\r\n  padding: 15px;\r\n}\r\n\r\n.course-name {\r\n  font-size: 16px;\r\n  margin-bottom: 10px;\r\n  color: #303133;\r\n}\r\n\r\n.course-desc {\r\n  font-size: 14px;\r\n  color: #909399;\r\n  line-height: 1.5;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 3;\r\n  overflow: hidden;\r\n}\r\n</style>","import { render } from \"./CourseView.vue?vue&type=template&id=7ac49530&scoped=true\"\nimport script from \"./CourseView.vue?vue&type=script&lang=js\"\nexport * from \"./CourseView.vue?vue&type=script&lang=js\"\n\nimport \"./CourseView.vue?vue&type=style&index=0&id=7ac49530&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ac49530\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_row","gutter","default","_withCtx","_Fragment","_renderList","$data","courses","course","_createBlock","_component_el_col","key","id","xs","sm","md","lg","_component_el_card","onClick","$event","$options","handleCourseClick","_component_el_image","src","image","fit","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","courseName","_hoisted_4","description","_","_component_el_pagination","background","layout","total","pageSize","pageNo","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","data","mounted","this","fetchCourses","methods","params","sort","isAsc","res","getCoursePage","code","Error","message","records","error","console","$message","size","page","courseId","$router","push","String","__exports__","render"],"sourceRoot":""}