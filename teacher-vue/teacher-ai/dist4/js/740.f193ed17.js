"use strict";(self["webpackChunkteacher_ai"]=self["webpackChunkteacher_ai"]||[]).push([[740],{2740:function(e,r,a){a.r(r),a.d(r,{default:function(){return c}});a(4114);var u=a(6768),l=a(4232),s=a(144),t=a(1387),d=a(2636),o=a(1219);const n={class:"register-container"};var m={__name:"RegisterView",setup(e){const r=(0,t.lq)(),a=(0,t.rd)(),m=(0,s.KR)(r.query.type||"student"),p=(0,s.KR)({userName:"",number:"",password:""}),b=(e,r,a)=>{/^(?=.*[A-Za-z]).{6,15}$/.test(r)?a():a(new Error("6-15位且至少包含一个字母"))},c={userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],number:[{required:!0,message:"请输入编号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:b,trigger:"blur"}]},i=async()=>{try{let e;e="student"===m.value?await(0,d.xM)({userName:p.value.userName,studentNumber:p.value.number,password:p.value.password}):await(0,d.mU)({userName:p.value.userName,workerNumber:p.value.number,password:p.value.password}),1===e.data.code?(o.nk.success("注册成功"),a.push("/login")):o.nk.error(e.data.msg||"注册失败")}catch(e){console.error("注册请求失败:",e),o.nk.error(e.response?.data?.msg||"请求异常，请稍后重试")}};return(e,r)=>{const a=(0,u.g2)("el-input"),s=(0,u.g2)("el-form-item"),t=(0,u.g2)("el-button"),d=(0,u.g2)("el-form"),o=(0,u.g2)("el-card");return(0,u.uX)(),(0,u.CE)("div",n,[(0,u.bF)(o,{class:"register-card"},{default:(0,u.k6)((()=>[(0,u.Lk)("h2",null,(0,l.v_)("student"===m.value?"学生注册":"教师注册"),1),(0,u.bF)(d,{model:p.value,rules:c,ref:"formRef"},{default:(0,u.k6)((()=>[(0,u.bF)(s,{label:"用户名",prop:"userName"},{default:(0,u.k6)((()=>[(0,u.bF)(a,{modelValue:p.value.userName,"onUpdate:modelValue":r[0]||(r[0]=e=>p.value.userName=e)},null,8,["modelValue"])])),_:1}),(0,u.bF)(s,{label:"student"===m.value?"学号":"工号",prop:"number"},{default:(0,u.k6)((()=>[(0,u.bF)(a,{modelValue:p.value.number,"onUpdate:modelValue":r[1]||(r[1]=e=>p.value.number=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,u.bF)(s,{label:"密码",prop:"password"},{default:(0,u.k6)((()=>[(0,u.bF)(a,{modelValue:p.value.password,"onUpdate:modelValue":r[2]||(r[2]=e=>p.value.password=e),type:"password","show-password":""},null,8,["modelValue"])])),_:1}),(0,u.bF)(s,null,{default:(0,u.k6)((()=>[(0,u.bF)(t,{type:"primary",onClick:i},{default:(0,u.k6)((()=>r[3]||(r[3]=[(0,u.eW)("立即注册")]))),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])}}},p=a(1241);const b=(0,p.A)(m,[["__scopeId","data-v-27f63bc8"]]);var c=b}}]);
//# sourceMappingURL=740.f193ed17.js.map